{% extends 'catalog/base.html' %}

{% block content %}
<div class="max-w-4xl mx-auto mt-8 p-6 bg-white shadow-md rounded-md">
    <!-- Page Title -->
    <h1 class="text-2xl font-bold text-gray-800 mb-6">
        Search Results{% if query %} for "{{ query }}"{% endif %}
    </h1>

    <!-- Search Form -->
    <form action="{% url 'search' %}" method="get" class="mb-6 space-y-4">
        <input 
            type="search" 
            name="q" 
            placeholder="Search courses by keyword or instructor"
            value="{{ query }}" 
            class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        >

        <select 
            name="category" 
            class="w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
        >
            <option value="">All Categories</option>
            {% for category in categories %}
                <option value="{{ category.id }}" {% if selected_category == category.id %}selected{% endif %}>
                    {{ category.name }}
                </option>
            {% endfor %}
        </select>

        <button 
            type="submit" 
            class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 transition"
        >
            Search
        </button>
    </form>

    <!-- Search Results -->
    <ul class="space-y-4">
        {% for course in results %}
            <li class="border-b pb-2">
                <a 
                    href="{% url 'course_detail' course.pk %}" 
                    class="text-lg font-medium text-blue-600 hover:underline"
                >
                    {{ course.title }}
                </a>
            </li>
        {% empty %}
            <li class="text-gray-500">No matching courses found.</li>
        {% endfor %}
    </ul>

    <!-- Back Link -->
    <div class="mt-6">
        <a href="/" class="text-sm text-gray-600 hover:underline">‚Üê Back to Courses</a>
    </div>
</div>
{% endblock %}
